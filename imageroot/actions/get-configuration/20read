#!/usr/bin/env python3

#
# Copyright (C) 2023 Nethesis S.r.l.
# SPDX-License-Identifier: GPL-3.0-or-later
#

import json
import sys
import os

config = {}

# Read current configuration from the environment file
config["helo_host"] = os.getenv("HELO_HOST","")
config["receiver_emails"] = os.getenv("RECEIVER_EMAILS","").split(",")
config["bantime"] = os.getenv("BANTIME",'1')
config["dyn_bantime"] = os.getenv("DYN_BANTIME",'True') == "True"
config["whitelists"] = os.getenv("WHITELISTS","").split(",")
config["disable_online_api"] = os.getenv("DISABLE_ONLINE_API",'True') == "True"
config["ban_local_network"] = os.getenv("BAN_LOCAL_NETWORK", "False") == "True"
json.dump(config, fp=sys.stdout)
